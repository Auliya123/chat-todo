{"ast":null,"code":"import chatsJSON from \"server/data/chats\";\nexport default ((req, res) => {\n  const chatID = Number(req.query.id);\n  const chatList = chatsJSON;\n  const chatBasedOnID = chatList.filter(chat => chat.id === chatID);\n  const chatMessages = chatBasedOnID[0].messages;\n  // const chatBasedOnID = {\n  //   id: 1,\n  //   title: \"109220-Naturalization\",\n  //   last_message: {\n  //     created: \"2021-01-01T19:10:57.219269Z\",\n  //     send_username: \"Cameron Phillips\",\n  //     text: \"Hey, please read.\",\n  //   },\n  //   people: [\n  //     {\n  //       person: {\n  //         username: \"Cameron Phillips\",\n  //       },\n  //     },\n  //     {\n  //       person: {\n  //         username: \"Auliya Michelle\",\n  //       },\n  //     },\n  //     {\n  //       person: {\n  //         username: \"Elizabeth\",\n  //       },\n  //     },\n  //     {\n  //       person: {\n  //         username: \"Ellen\",\n  //       },\n  //     },\n  //   ],\n  //   messages: {\n  //     id: 1,\n  //     title: \"I-589 - AMARKHIL, Obaidullah [Affirmative Filing with ZHN]\",\n  //     people: [\"Auliya Michelle\", \"Marry Hilda\", \"baidullah Amarkhil\"],\n  //     chats: [\n  //       {\n  //         id: 1,\n  //         sender_username: \"Marry Hilda\",\n  //         text: \"Just Fill me in for his updates yea?\",\n  //       },\n  //       {\n  //         id: 2,\n  //         sender_username: \"Auliya Michelle\",\n  //         text: \"No worries. It will be completed ASAP. I’ve asked him yesterday\",\n  //       },\n  //       {\n  //         id: 3,\n  //         sender_username: \"Marry Hilda\",\n  //         text: \"Hello Obaidullah, I will be your case advisor for case #029290. I have assigned some homework for you to fill. Please keep up with the due dates. Should you have any questions, you can message me anytime. Thanks\",\n  //       },\n  //     ],\n  //   },\n  //   created: \"2020-12-01T04:12:57.219269Z\",\n  // };\n\n  if (chatMessages.chats.length > 0) {\n    res.statusCode = 200;\n    res.json(chatMessages.messages.pop());\n  } else {\n    res.statusCode = 404;\n    res.send(\"Not found - ID is not related to any products\");\n  }\n});","map":{"version":3,"names":["chatsJSON","req","res","chatID","Number","query","id","chatList","chatBasedOnID","filter","chat","chatMessages","messages","chats","length","statusCode","json","pop","send"],"sources":["D:/michelle/chat-todo/pages/api/chats/[id].js"],"sourcesContent":["import chatsJSON from \"server/data/chats\";\r\n\r\nexport default (req, res) => {\r\n  const chatID = Number(req.query.id);\r\n  const chatList = chatsJSON;\r\n\r\n  const chatBasedOnID = chatList.filter((chat) => chat.id === chatID);\r\n  const chatMessages = chatBasedOnID[0].messages;\r\n  // const chatBasedOnID = {\r\n  //   id: 1,\r\n  //   title: \"109220-Naturalization\",\r\n  //   last_message: {\r\n  //     created: \"2021-01-01T19:10:57.219269Z\",\r\n  //     send_username: \"Cameron Phillips\",\r\n  //     text: \"Hey, please read.\",\r\n  //   },\r\n  //   people: [\r\n  //     {\r\n  //       person: {\r\n  //         username: \"Cameron Phillips\",\r\n  //       },\r\n  //     },\r\n  //     {\r\n  //       person: {\r\n  //         username: \"Auliya Michelle\",\r\n  //       },\r\n  //     },\r\n  //     {\r\n  //       person: {\r\n  //         username: \"Elizabeth\",\r\n  //       },\r\n  //     },\r\n  //     {\r\n  //       person: {\r\n  //         username: \"Ellen\",\r\n  //       },\r\n  //     },\r\n  //   ],\r\n  //   messages: {\r\n  //     id: 1,\r\n  //     title: \"I-589 - AMARKHIL, Obaidullah [Affirmative Filing with ZHN]\",\r\n  //     people: [\"Auliya Michelle\", \"Marry Hilda\", \"baidullah Amarkhil\"],\r\n  //     chats: [\r\n  //       {\r\n  //         id: 1,\r\n  //         sender_username: \"Marry Hilda\",\r\n  //         text: \"Just Fill me in for his updates yea?\",\r\n  //       },\r\n  //       {\r\n  //         id: 2,\r\n  //         sender_username: \"Auliya Michelle\",\r\n  //         text: \"No worries. It will be completed ASAP. I’ve asked him yesterday\",\r\n  //       },\r\n  //       {\r\n  //         id: 3,\r\n  //         sender_username: \"Marry Hilda\",\r\n  //         text: \"Hello Obaidullah, I will be your case advisor for case #029290. I have assigned some homework for you to fill. Please keep up with the due dates. Should you have any questions, you can message me anytime. Thanks\",\r\n  //       },\r\n  //     ],\r\n  //   },\r\n  //   created: \"2020-12-01T04:12:57.219269Z\",\r\n  // };\r\n\r\n  if (chatMessages.chats.length > 0) {\r\n    res.statusCode = 200;\r\n    res.json(chatMessages.messages.pop());\r\n  } else {\r\n    res.statusCode = 404;\r\n    res.send(\"Not found - ID is not related to any products\");\r\n  }\r\n};\r\n"],"mappings":"AAAA,OAAOA,SAAS,MAAM,mBAAmB;AAEzC,gBAAe,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC3B,MAAMC,MAAM,GAAGC,MAAM,CAACH,GAAG,CAACI,KAAK,CAACC,EAAE,CAAC;EACnC,MAAMC,QAAQ,GAAGP,SAAS;EAE1B,MAAMQ,aAAa,GAAGD,QAAQ,CAACE,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACJ,EAAE,KAAKH,MAAM,CAAC;EACnE,MAAMQ,YAAY,GAAGH,aAAa,CAAC,CAAC,CAAC,CAACI,QAAQ;EAC9C;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,IAAID,YAAY,CAACE,KAAK,CAACC,MAAM,GAAG,CAAC,EAAE;IACjCZ,GAAG,CAACa,UAAU,GAAG,GAAG;IACpBb,GAAG,CAACc,IAAI,CAACL,YAAY,CAACC,QAAQ,CAACK,GAAG,EAAE,CAAC;EACvC,CAAC,MAAM;IACLf,GAAG,CAACa,UAAU,GAAG,GAAG;IACpBb,GAAG,CAACgB,IAAI,CAAC,+CAA+C,CAAC;EAC3D;AACF,CAAC"},"metadata":{},"sourceType":"module"}